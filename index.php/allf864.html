<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<!-- Mirrored from blog.eikke.com/index.php/all?blog=1&cat=16&page=1&paged=5 by HTTrack Website Copier/3.x [XR&CO'2010], Tue, 11 Dec 2012 19:49:59 GMT -->
<head> 
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>
	All Blogs - Categories: Technology, Coding Corner, Docbook, Summer of Code 06, Desktop, Ivman, Linux, Networks</title>
<base  />
<meta name="description" content="" />
<meta name="keywords" content="ikke eikke blog" />
<meta name="generator" content="b2evolution 1.8.6" /> <!-- Please leave this for stats -->
<link rel="alternate" type="text/xml" title="RDF" href="http://eikke.com/feed/" />
<link rel="alternate" type="text/xml" title="RSS .92" href="http://eikke.com/feed/" />
<link rel="alternate" type="text/xml" title="RSS 2.0" href="http://eikke.com/feed/" />
<link rel="alternate" type="application/atom+xml" title="Atom" href="http://eikke.com/feed/" />
<link rel="pingback" href="../xmlsrv/xmlrpc.php" />
<link rel="stylesheet" href="../skins/plain/style.css" type="text/css" />

</head>

<body>
<a name="top" id="top"></a>
<center>
		<div id="menu">
				<a href="all.html" title="The blog front page">home</a>
<a href="../htsrv/login156f.html?redirect_to=http%3A%2F%2Fblog.eikke.com%2Findex.php%2Fall%3Fblog%3D1%26amp%3Bcat%3D16%26amp%3Bpaged%3D5%26amp%3Bpage%3D1" title="Login if you have an account...">Login...</a>
<a href="all03a1.html?disp=comments">Last comments</a>
		</div>
		
		<div id="header">


      <h1><a href="all.html" style="border:0px;">All Blogs</a></h1>
      <h2></h2>
		</div>
		
		<div id="content">
		
				
				<div id="sidebar">
<div class="submenu">
<div class="boxTop">&nbsp;</div><div class="menuBox"><a href="all.html" class="menuItem" title="All Blogs">Blog All</a>
<a href="ikke.html" class="menuItem" title="Ikke&#039;s Blog">Ikke</a>
<a href="fedorastateless.html" class="menuItem" title="Fedora Stateless @ UGent">FSU</a>
<a href="realnitro.html" class="menuItem" title="RealNitro&#039;s Blog">RealNitro</a>
<a href="http://peterdedecker.net/blog/index.php" class="menuItem" title="Peter&#039;s Blog">Peter</a>
</div></div>

		<p></p>
<div class="postBox"><div class="boxTop">Categories</div><h4><a href="all.html">All Blogs</a></h4>
<h4><a href="ikke.html">Ikke's Blog</a></h4>
<ul><li><a href="allb5e7.html?cat=15">Life</a> <span class="notes">(56)</span></li>
<li><a href="all3f99.html?cat=16">Technology</a> <span class="notes">(131)</span>*<ul><li><a href="all3cd0.html?cat=49">Coding Corner</a> <span class="notes">(64)</span>*<ul><li><a href="allbff0.html?cat=52">Docbook</a> <span class="notes">(7)</span>*</li>
<li><a href="alle864.html?cat=63">Summer of Code 06</a> <span class="notes">(0)</span>*</li>
</ul>
</li>
<li><a href="all8e7f.html?cat=19">Desktop</a> <span class="notes">(93)</span>*</li>
<li><a href="all7f33.html?cat=31">Ivman</a> <span class="notes">(3)</span>*</li>
<li><a href="allc055.html?cat=17">Linux</a> <span class="notes">(90)</span>*</li>
<li><a href="all6c5d.html?cat=18">Networks</a> <span class="notes">(14)</span>*</li>
</ul>
</li>
</ul>
<h4><a href="fedorastateless.html">Fedora Stateless @ UGent</a></h4>
<ul><li><a href="allede2.html?cat=32">General</a> <span class="notes">(10)</span></li>
<li><a href="allb97c.html?cat=30">Nifty solutions</a> <span class="notes">(3)</span></li>
<li><a href="allaeb3.html?cat=29">Problems we encounter</a> <span class="notes">(9)</span></li>
<li><a href="allb60a.html?cat=27">Project status and progress</a> <span class="notes">(13)</span></li>
</ul>
<h4><a href="realnitro.html">RealNitro's Blog</a></h4>
<ul><li><a href="alld11d.html?cat=54">Coding</a> <span class="notes">(9)</span></li>
<li><a href="allc733.html?cat=38">Fun</a> <span class="notes">(2)</span></li>
<li><a href="all97dc.html?cat=33">Gaming</a> <span class="notes">(4)</span><ul><li><a href="all9ad7.html?cat=35">CUBE</a> <span class="notes">(3)</span></li>
<li><a href="all9591.html?cat=37">Max Payne</a> <span class="notes">(0)</span></li>
<li><a href="alla88f.html?cat=36">RTCW:ET</a> <span class="notes">(2)</span></li>
</ul>
</li>
<li><a href="allf528.html?cat=47">Life</a> <span class="notes">(11)</span></li>
<li><a href="all8dbd.html?cat=50">Linux</a> <span class="notes">(7)</span></li>
<li><a href="all489b.html?cat=34">Webdesign</a> <span class="notes">(4)</span></li>
</ul>
<h4><a href="http://peterdedecker.net/blog/index.php">Peter's Blog</a></h4>
<ul><li><a href="all363a.html?cat=45">Free Software</a> <span class="notes">(9)</span><ul><li><a href="allb0b4.html?cat=48">Jabber</a> <span class="notes">(4)</span></li>
<li><a href="all51fa.html?cat=40">Linux</a> <span class="notes">(9)</span><ul><li><a href="allffca.html?cat=41">My Gentoo</a> <span class="notes">(19)</span></li>
<li><a href="allf170.html?cat=53">Ubuntu@AMD64</a> <span class="notes">(4)</span></li>
</ul>
</li>
<li><a href="all434a.html?cat=57">Workgroup Free Software</a> <span class="notes">(4)</span></li>
</ul>
</li>
<li><a href="alle7dd.html?cat=59">Internet &amp; Blogs</a> <span class="notes">(12)</span></li>
<li><a href="alle8fb.html?cat=39">Life &amp; Fun</a> <span class="notes">(47)</span></li>
<li><a href="all1e3b.html?cat=55">Politics</a> <span class="notes">(16)</span><ul><li><a href="allfa15.html?cat=51">EU Software Patents</a> <span class="notes">(8)</span></li>
<li><a href="all848d.html?cat=58">N-VA</a> <span class="notes">(4)</span></li>
</ul>
</li>
<li><a href="all667c.html?cat=43">Studies</a> <span class="notes">(23)</span><ul><li><a href="all493d.html?cat=62">Siemens</a> <span class="notes">(13)</span></li>
</ul>
</li>
<li><a href="alle868.html?cat=60">UGent &amp; Stuver</a> <span class="notes">(18)</span></li>
<li><a href="allac94.html?cat=42">VTK</a> <span class="notes">(10)</span></li>
</ul>

</div>
<div class="boxTop"><a href="all03a1.html?disp=comments">Last comments</a></div>
<div class="postBox">	

  <ul>
<li>- louboutin on <a href="ikke/2005/12/23/crosswords.html#c11861" title="permalink to comment">Crosswords</a>

</li>
<li>- rhinestone motif on <a href="ikke/2005/11/19/ooo2_on_770.html#c11860" title="permalink to comment">OOo2 on 770</a>

</li>
<li>- richard on <a href="ikke/2007/05/08/openoffice_rant.html#c11859" title="permalink to comment">OpenOffice rant</a>

</li>
<li>- Tom on <a href="ikke/2005/01/31/gob_signals_walkthrough.html#c11858" title="permalink to comment">GOB signals walkthrough</a>

</li>
<li>- Tom on <a href="ikke/2005/01/31/gob_signals_walkthrough.html#c11857" title="permalink to comment">GOB signals walkthrough</a>

</li>
        </ul>
</div>

<div class="postBox"><table class="bCalendarTable" cellspacing="0" summary="Monthly calendar with links to each day's posts">
<caption class="bCalendarCaption"><a href="all/2012/12/index.html" title="go to month's archive">December 2012</a></caption>
<thead><tr class="bCalendarRow">
<th class="bCalendarHeaderCell" abbr="Sunday" scope="col" title="Sunday">Sun</th>
<th class="bCalendarHeaderCell" abbr="Monday" scope="col" title="Monday">Mon</th>
<th class="bCalendarHeaderCell" abbr="Tuesday" scope="col" title="Tuesday">Tue</th>
<th class="bCalendarHeaderCell" abbr="Wednesday" scope="col" title="Wednesday">Wed</th>
<th class="bCalendarHeaderCell" abbr="Thursday" scope="col" title="Thursday">Thu</th>
<th class="bCalendarHeaderCell" abbr="Friday" scope="col" title="Friday">Fri</th>
<th class="bCalendarHeaderCell" abbr="Saturday" scope="col" title="Saturday">Sat</th>
</tr></thead>
<tfoot>
<tr>
<td colspan="3" id="prev"><a href="all/2007/12/index.html" title="Previous year (2007-12)">&lt;&lt;</a>&nbsp;<a href="all/2007/12/index.html" title="Previous month (2007-12)">&lt;</a></td>
<td class="pad">&nbsp;</td>
<td colspan="3" id="next">&nbsp;&nbsp;</td>
</tr>
</tfoot>
<tr class="bCalendarRow">
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarCell">1</td>
</tr>
<tr class="bCalendarRow">
<td class="bCalendarCell">2</td>
<td class="bCalendarCell">3</td>
<td class="bCalendarCell">4</td>
<td class="bCalendarCell">5</td>
<td class="bCalendarCell">6</td>
<td class="bCalendarCell">7</td>
<td class="bCalendarCell">8</td>
</tr>
<tr class="bCalendarRow">
<td class="bCalendarCell">9</td>
<td class="bCalendarCell">10</td>
<td id="bCalendarToday">11</td>
<td class="bCalendarCell">12</td>
<td class="bCalendarCell">13</td>
<td class="bCalendarCell">14</td>
<td class="bCalendarCell">15</td>
</tr>
<tr class="bCalendarRow">
<td class="bCalendarCell">16</td>
<td class="bCalendarCell">17</td>
<td class="bCalendarCell">18</td>
<td class="bCalendarCell">19</td>
<td class="bCalendarCell">20</td>
<td class="bCalendarCell">21</td>
<td class="bCalendarCell">22</td>
</tr>
<tr class="bCalendarRow">
<td class="bCalendarCell">23</td>
<td class="bCalendarCell">24</td>
<td class="bCalendarCell">25</td>
<td class="bCalendarCell">26</td>
<td class="bCalendarCell">27</td>
<td class="bCalendarCell">28</td>
<td class="bCalendarCell">29</td>
</tr>
<tr class="bCalendarRow">
<td class="bCalendarCell">30</td>
<td class="bCalendarCell">31</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
<td class="bCalendarEmptyCell">&nbsp;</td>
</tr>
</table></div>
<div class="postBox"><div class="boxTop">Archives</div><ul><li><a href="all/2007/12/index.html">December 2007</a> <span class="dimmed">(2)</span></li>
<li><a href="all/2007/11/index.html">November 2007</a> <span class="dimmed">(3)</span></li>
<li><a href="all/2007/10/index.html">October 2007</a> <span class="dimmed">(2)</span></li>
<li><a href="all/2007/09/index.html">September 2007</a> <span class="dimmed">(3)</span></li>
<li><a href="all/2007/08/index.html">August 2007</a> <span class="dimmed">(4)</span></li>
<li><a href="all/2007/05/index.html">May  2007</a> <span class="dimmed">(2)</span></li>
<li><a href="all/2007/04/index.html">April 2007</a> <span class="dimmed">(4)</span></li>
<li><a href="all/2007/03/index.html">March 2007</a> <span class="dimmed">(5)</span></li>
<li><a href="all/2007/02/index.html">February 2007</a> <span class="dimmed">(2)</span></li>
<li><a href="all/2007/01/index.html">January 2007</a> <span class="dimmed">(3)</span></li>
<li><a href="all/2006/10/index.html">October 2006</a> <span class="dimmed">(2)</span></li>
<li><a href="all/2006/08/index.html">August 2006</a> <span class="dimmed">(1)</span></li>
<li><a href="all1579.html?disp=arcdir">More...</a></li>
</ul>
</div>

<!-- =============== SEARCH BOX ======================== --> 
<div class="boxTop">Search</div>
<div class="postBox"><form action="http://blog.eikke.com/index.php/all" method="get" id="searchform">	<br />	<div align="center"><input class="search" size="15" name="s" /><br />
        <input type="submit" value="Search" name="submit" class="btn"  />
        </div>
</form>
</div>
<div class="postBox">
<h3 class="boxTop">Who's Online?</h3>
	<ul class="onlineUsers"><li>Guest Users: 447</li></ul>	</div>

			
<div class="boxTop">Syndicate this blog <img src="../img/xml.html" alt="XML" width="36" height="14" class="middle" /></div>               
	<div class="postBox">
RSS 0.92: <a href="http://eikke.com/feed/">Posts</a>, <a href="all7f88.html?tempskin=_rss&amp;disp=comments">Comments</a>
<br />
RSS 1.0: <a href="http://eikke.com/feed/">Posts</a>, <a href="all374e.html?tempskin=_rdf&amp;disp=comments">Comments</a>
<br />
RSS 2.0: <a href="http://eikke.com/feed/">Posts</a>, <a href="all6fea.html?tempskin=_rss2&amp;disp=comments">Comments</a>
<br />
Atom: <a href="http://eikke.com/feed/">Posts</a>, <a href="all5609.html?tempskin=_atom&amp;disp=comments">Comments</a>
</div>		

<!-- Menu footer -->
<br /> <div align="center">powered by<br />
<a href="http://b2evolution.net/" title="b2evolution home"><img src="../img/b2evolution_logo_80.html" alt="b2evolution" width="80" height="17" border="0" class="middle" /></a></div>
				</div>
						
						
				<div id="mainbar">

<h2>Categories: Technology, Coding Corner, Docbook, Summer of Code 06, Desktop, Ivman, Linux, Networks</h2><!-- 
== START OF MAIN AREA
====== -->

<h2>04/18/06</h2><div class="bPost" lang="en-US">
		<div class="title">More CDIS spam</div>
	<div class="bText">
		<p>First of all: Evolution is sooooo "1337":<br />
<center><img src="http://www.eikke.com/files/evo-hex2.png" title="EvoHex" /></center></p>

<p>Guess what: I've been thinking some more about CDIS. Yesterday I had a little discussion about it on #gnome-hackers with Robot101, who seems to have some good knowledge of D-BUS. Obviously, he rejected the idea of adding one more daemon. Indeed, it shouldn't be there, I hate it myself too, but currently it's the only solution to get things working.<br />
He suggested to specify some well-known service and object names, and call methods on the desired services that way. This is not a possible solution though: think of someone running 2 VoIP softphones (eg Ekiga and Skype), 2 IM clients (Gossip for Jabber, aMSN for MSNP),... A service is unique for one application.</p>

<p>So some other solution should be found.<br />
The best one, IMHO, is to add a method to the org.freedesktop.DBus service/object, something like "GetObjectsByInterface", which accepts a string, and returns an array of (servicename, objectpath) tupples, both strings. Using that one can do a specific call on all objects that need to be called.</p>

<p>Next to that, there's the versioning issue. If I remember correctly, a long long time ago this has been discussed on the D-BUS mailing list, and people decided interface versioning support wouldn't be added to D-BUS. As the CDIS interface specifications won't ever be "final", it should be possible to get around this.<br />
It's not that hard though. We can use the standard x.y versioning system, x.y is backwards compatible with x.(y-1), so in a version bump from x.y to x.(y+1) only methods or signals can be added. Bumping x allows a complete API break.<br />
Like this, if we release version 1.2 of the org.freedesktop.CDIS.FooInterface interface, and application FooApp got an object implementing this interface version, it should register itself to the D-BUS sessionbus, and tell it it implements org.freedesktop.CDIS.FooInterface.1.0, org.freedesktop.CDIS.FooInterface.1.1 and org.freedesktop.CDIS.FooInterface.1.2. Now if some other application wants to call a function added in version 1.1 of our spec, it just checks what service/objectpath pairs implement org.freedesktop.CDIS.1.1, and calls the method(s).<br />
All this can be done behind the scenes by some helper library that makes it easier to make applications CDIS-aware.</p>

<p>As now is the time to come up with some project for Google's Summer of Code, I think it'd be great to work on this (now don't steal the idea). The only issue is: <b>would someone be willing to mentor this</b>?<br />
I'd like to do the initial work somewhere under the hood of the GNOME project, if that'd be possible/allowed/accepted.</p>

<p>Here's a TODO:</p>
<ul><li>Add the previously described method to the D-BUS service</li>
<li>Come up with some XML format to define CDIS interfaces, including interface version support</li>
<li><p>Write code generators that generate helper libraries based on these XML descriptions. Some ideas:</p>
<ul><li>Plain C: using vtables with function pointers</li>
<li>GObject: standard GObject things like signals and GObject interfaces</li>
<li>Python: decorators</li>
<li>CLI/C#: decorators too</li></ul>
<p>The helpers should use the language-native D-BUS bindings, which makes things easier to debug (IMHO)</p></li>
<li>Write up an initial interface for some specific service type, and make some projects ("servers") aware of it</li>
<li>Change some other applications ("clienst") so they can make use of the servers</li></ul>

<p>Regarding the helper libs: these should abstract the complete D-BUS backend and versioning issues from the actual application. An application should just initialize it, say "Hey, I'm a MusicPlayer, I want to support version x.y of the org.freedesktop.CDIS.MusicPlayer interface, here are my callbacks".<br />
In pseudocode:</p><pre><code>/* Hello world, I want to implement a CDIS interface */
CdisMusicPlayer *cdis_self = cdis_musicplayer_new("1.2", "com.eikke.CoolPlayer", "/com/eikke/CoolPlayer/CDISController");
/* When a client makes a "pause" call to apps implementing org.freedesktop.CDIS.MusicPlayer, please jump to myapp_playback_pause
 * This uses D-BUS methods
 */
cdis_musicplayer_set_playback_pause_cb(cdis_self, myapp_playback_pause);
/* Hey listeners out there, I started playback
 * This sends out a D-BUS signal
 */
cdis_musicplayer_playback_started(cdis_self);</code></pre>

<p>Next to the server object, there are clients:</p><pre><code>/* Hey, I'd like to control music players. I support version 1.5 of the org.freedesktop.CDIS.MusicPlayer interface */
CdisMusicPlayerClient *c = cdis_musicplayer_client_new_with_bus("1.5", my_dbus_connection);
/* If a player starts, please run this callback */
cdis_mediaplayer_client_set_playback_started_cb(c, playback_started);
/* Tell all MusicPlayers to pause */
cdis_mediaplayer_client_pause(c);</code></pre><p>Maybe the "object" instance isn't even necessary!</p>

<p>Behind the scenes, when the client calls cdis_musicplayer_client_pause(), the helper will know this method was added in version 1.1 of the specification. It will request a list of all service/object-pairs that implement the org.freedesktop.CDIS.MusicPlayer.1.1 interface from the D-BUS service, and do the Pause() call on all returned objects.<br />
When the server "connects" to the system, telling it implements version 1.2 of the spec, the helper will connect to the session bus and will tell the D-BUS system the object implements org.freedesktop.CDIS.MusicPlayer.1.0, org.freedesktop.CDIS.MusicPlayer.1.1 and org.freedesktop.CDIS.MusicPlayer.1.2.</p>

<p>Like this it should be fairly trivial to make existing and new applications CDIS aware. And that's the way it should be ;-)</p>

<p>Obviously, an application could use "pure" D-BUS calls to handle all this itself too. But why make things so complicated?</p>

<p>Next to that, it should be possible to write "testkits" too, based on the XML specs. Python might be very usefull here. One test then looks up the highest version of the spec, and executes all methods new in this version on all objects claiming to implement the interface. Then it takes the last-but-one version, and does the same thing, all the way down to x.0. This way an application developer can easily check whether his application is CDIS compliant. This needs some more thinking though ;-)</p>

<p>Anyway, lots of things to be done, and obviously, not all of this can be done in only 2 or 3 months. Still, some results/progress can be made, and I'm 99% certain incorporating this in the desktop would be a great thing.<br />
I know one should just apply for SoC without thinking about a mentor. I would like to know someone'd want to be mine though before applying (just to be on the safe side), so if these things interest you and you want to get some experience on the mentor side of things, please let me know!</p>			</div>
         <div class="bSmallPrint">
	  <a href="ikke/2006/04/18/more_cdis_spam.html" title="Permanent link to full entry" class="permalink_right"><img src="../skins/plain/images/chain_link.gif" alt="Permalink" width="14" height="14" border="0" class="middle" /></a>
	  .
          <a href="all7441.html?author=" title="Browse all posts by this author">Ikke</a>

          .
	  10:06:12 pm	  .

          1062 Words          .
	  
	<a href="ikke3f99.html?cat=16" title="true">Technology</a>, <a href="ikkec055.html?cat=17" title="true">Linux</a>, <a href="ikke8e7f.html?cat=19" title="true">Desktop</a>, <a href="ikke3cd0.html?cat=49" title="true">Coding Corner</a>  
	.
		.
	1856 views	
	 . <a href="ikke/2006/04/18/more_cdis_spam.html#comments" title="Display comments / Leave a comment">7 comments</a>	  	</div>
	</div>
<h2>04/17/06</h2><div class="bPost" lang="en-US">
		<div class="title">Easter hacking</div>
	<div class="bText">
		<p>Writing code on easter day, after spending a day with your family (including the obligatory champagn/wine/beers) isn't such a good idea (#gnome-nl):</p>
<pre>23:43 &lt;@ikke&gt; damn, help!
23:43 &lt;@ikke&gt; g_return_if_fail(foo() != TRUE)
23:43 &lt;@ikke&gt; returnt dat nu al foo() TRUE is, of FALSE?
23:43 &lt;@ikke&gt; ik ben helemaal aant flippen :s
23:43 &lt;@kris&gt; het failt als foo() != TRUE niet true is
23:43 &lt;@kris&gt; dus als foo() true returned
23:43 &lt;@ikke&gt; dus returnt als foo true is
23:43 &lt;@kris&gt; oh nee
23:43 &lt;@kris&gt; wacht ff
23:43 &lt;@ikke&gt; kijk, jij ook al :p
23:44 &lt;@kris&gt; all foo() false returnt, is foo() != TRUE true
23:44 &lt;@kris&gt; ja
23:44 &lt;@kris&gt; dus het failt als foo() true returnt
23:44 &lt;@ikke&gt; dus ie returnt als foo true is
23:44 &lt;@kris&gt; want dan is foo() != TRUE false
23:44 &lt;+qball&gt; leuk he :D</pre>
<p>For the people who dont know dutch out there:</p>
<pre>23:43 &lt;@ikke&gt; damn, help!
23:43 &lt;@ikke&gt; g_return_if_fail(foo() != TRUE)
23:43 &lt;@ikke&gt; does it return if foo() is TRUE, or FALSE?
23:43 &lt;@ikke&gt; I'm going nuts :s
23:43 &lt;@kris&gt; hit fails when foo() != TRUE isn't true
23:43 &lt;@kris&gt; so, when foo() returns true
23:43 &lt;@ikke&gt; so it returns when foo is true
23:43 &lt;@kris&gt; oh no
23:43 &lt;@kris&gt; wait a moment
23:43 &lt;@ikke&gt; look, you got the same issue :P
23:44 &lt;@kris&gt; when foo() returns false, foo() != TRUE is true
23:44 &lt;@kris&gt; yes
23:44 &lt;@kris&gt; so it fails when foo() returns true
23:44 &lt;@ikke&gt; it returns when foo is true
23:44 &lt;@kris&gt; caus then foo() != TRUE is false
23:44 &lt;+qball&gt; fun heh :D</pre>
<p>Oh well, it's fixed :-)</p>

<p>I got <a href="http://gentopia.gentooexperimental.org/" title="Gentopia">Gentopia</a> SVN commit access now. Gentopia is a project set up by some <a href="http://www.gentoo.org/" title="Gentoo">Gentoo</a> devs aiming to get the Project Utopia stack properly integrated in the distribution. I committed an <a href="http://gentopia.gentooexperimental.org/browser/overlay/net-misc/networkmanager-vpnc/networkmanager-vpnc-0.6.0.ebuild" title="updated networkmanager-vpnc">updated networkmanager-vpnc</a> version, enjoy ;-)<br />
<a href="http://bugzilla.gnome.org/show_bug.cgi?id=338741" title="Cleaned up">Cleaned up</a> the <a href="http://www.gnome.org/projects/NetworkManager/" title="NetworkManager">NetworkManager</a> Gentoo backend a little too.</p>

<p>Could someone tell me how to mark a bug as a dupe in Bugzilla?</p>

<p>No CDIS mails yet, busy for some uni project (<a href="http://twizz.ugent.be/student/prog2/blast/" title="link">link</a>) taking too much of my time, which I don't like actually ;-) Looks like some people <a href="http://www.linux-wizard.net/index.php?id_blog=68" title="picked">picked</a> <a href="http://live.gnome.org/SummerOfCode2006/Ideas" title="up">up</a> <a href="http://bugzilla.gnome.org/show_bug.cgi?id=338131" title="the">the</a> idea though, great!</p>

<p>Next to that: jay for new fglrx drivers! Now I *will* be able to run Linux on my laptop when I get it (will not be within next 2 months though I'm afraid :-(), which is some *great* news.</p>			</div>
         <div class="bSmallPrint">
	  <a href="ikke/2006/04/17/easter_hacking.html" title="Permanent link to full entry" class="permalink_right"><img src="../skins/plain/images/chain_link.gif" alt="Permalink" width="14" height="14" border="0" class="middle" /></a>
	  .
          <a href="all7441.html?author=" title="Browse all posts by this author">Ikke</a>

          .
	  12:33:55 am	  .

          505 Words          .
	  
	<a href="ikke3f99.html?cat=16" title="true">Technology</a>, <a href="ikkec055.html?cat=17" title="true">Linux</a>, <a href="ikke8e7f.html?cat=19" title="true">Desktop</a>, <a href="ikke3cd0.html?cat=49" title="true">Coding Corner</a>  
	.
		.
	541 views	
	 . <a href="ikke/2006/04/17/easter_hacking.html#comments" title="Display comments / Leave a comment">2 comments</a>	  	</div>
	</div>
<h2>04/12/06</h2><div class="bPost" lang="en-US">
		<div class="title">First CDIS "proof of concept"</div>
	<div class="bText">
		<p>Well, proof of concept, it's not that much actually :-)<br />
Been fighting with DBus today to get something as I described yesterday working. Thanks to the people on the mailing list and IRC (#dbus@freenode) for all help, hints and pointers!</p>

<p>I hacked together a very small sample in Python (yes, I hardly know Python, so the code might be very very bad, I just wanted to test whether what I want to do is possible using DBus).</p>

<p>The setup uses a central daemon (don't shoot! It looks like it's the only usable way to cut the job) which keeps track of all objects that want to implement some CDIS interface. Objects subscribe to the concentrator (thats how I called it anyway), and clients talk to it too.<br />
See <a href="http://www.eikke.com/files/cdis-first-poc.png" title="this screenshot">this screenshot</a> to get an overview how it works. First the concentrator is started. Then the user starts Gaim and Kopete (this is just a sample, obviously). They both register to the concentrator, which keeps track of them. Now some user app (think "a screensaver") connects to the concentrator, and asks it to set the status of all IM clients to "idle".<br />
The concentrator receives this request, checks his list of connected objects, and runs the "SetState(s)" method on all objects implementing org.freedesktop.CDIS.InstantMessenger.</p>

<p>All of this is completely transparant to the actual application: it doesn't know about DBus, it shouldn't care about subscribing to the concentrator (unsubscribing can be done using NameOwnerChanged etc, not implemented yet) etc. Just provide all functions to implement the inteface.</p>

<p>The best way to tackle this, I think, is to write the specs using some XML format (we might want to look at the dbus-glib-bindings format), then generating code using that (plain C using function pointers, GObjects and their signals, QObjects and their in-process signal mechanism, dunno about the best way to do this in Python and others). It should be fairly painless to get this working.</p>

<p>Other TODO's:</p>
<ul><li>Write a *decent* concentrator (this one can be started using DBus activation on the first subscription call, jay!) that's error-savvy, handles killed applications, can scan the bus on startup for existing objects it should handle,...</li>
<li>Write a spec XML format</li>
<li>Write specs (this one will be the hardest part I guess)</li>
<li>Get desktop apps to use this beast!</li>
<li>Tons of other things</li></ul>

<p>[edit] Per RealNitro's request, code is <a href="http://code.eikke.com/index.php?dir=CDIS/test/" title="online">online</a>. Beware, it's ugly.<br />
I've been thinking: for the Python "bindings", function decorators could be very well suited...<br />
Tomorrow I'll send something about this to XDG, I hope something useful can come out of this.</p>			</div>
         <div class="bSmallPrint">
	  <a href="ikke/2006/04/12/first_cdis_proof_of_concept.html" title="Permanent link to full entry" class="permalink_right"><img src="../skins/plain/images/chain_link.gif" alt="Permalink" width="14" height="14" border="0" class="middle" /></a>
	  .
          <a href="all7441.html?author=" title="Browse all posts by this author">Ikke</a>

          .
	  06:56:33 pm	  .

          449 Words          .
	  
	<a href="ikke3f99.html?cat=16" title="true">Technology</a>, <a href="ikkec055.html?cat=17" title="true">Linux</a>, <a href="ikke8e7f.html?cat=19" title="true">Desktop</a>, <a href="ikke3cd0.html?cat=49" title="true">Coding Corner</a>  
	.
		.
	643 views	
	 . <a href="ikke/2006/04/12/first_cdis_proof_of_concept.html#comments" title="Display comments / Leave a comment">3 comments</a>	  	</div>
	</div>
<h2>04/11/06</h2><div class="bPost" lang="en-US">
		<div class="title">Common interfaces</div>
	<div class="bText">
		<p>The recent discussion on <a href="http://mail.gnome.org/mailman/listinfo/desktop-devel-list" title="desktop-devel">desktop-devel</a> on the inclusion of <a href="http://www.gnome.org/projects/gnome-power-manager/" title="GNOME Power Manager">GNOME Power Manager</a> into the 2.16 desktop release (big thanks to the developers for this software, it took a while to get suspension working on my desktop but now it does, I really like GPM even if it's no laptop) ended up in two completely different discussions: the usage of notifications (libnotify) and the notification area versus normal applets, and sharing a base daemon with eg the KDE power manager (somewhat related to what <a href="http://www.gnome.org/projects/NetworkManager/" title="NetworkManager">NetworkManager</a> does: a central daemon running as root, and a client applet on top of that, using DBus for IPC, although the power management daemon should not run as root, as all privileged tasks are handled by hald, which runs as root).</p>

<p>The second issue is one which interests me a lot, as more than a year ago (IIRC I was still using Windows as main desktop at that time :oops: as my Linux machine was too slow to run any desktop app) I sent an email to the <a href="http://lists.freedesktop.org/archives/xdg" title="XDG">XDG</a> list about what was to become <a href="http://lists.freedesktop.org/archives/xdg/2005-January/005687.html" title="CDIS">CDIS</a>, the Common Desktop Interface Specification (the email I link to is just the first of bunch of long threads, from the initial idea almost nothing was kept). Lots of email on the list later, no actual result came out of it (which is mainly due to me).</p>

<p>Shared interfaces are, just like open file formats etc, very important. We got some great desktop specifications that ensure a developer his/her code and application will work on all platforms supporting the specification. Think of the notification area spec, autostart spec, .desktop files,...<br />
Shared IPC interfaces (think DBus) are very important too. In the case of a power management app like GPM or it's K* equivalent, they should both use the same interface for several functions, eg "DontHibernateNext5Minutes" (dumb and useless example, but hey). If I write an application that doesn't need user input, but does a lot of work (think of a CD burning app), I don't want the machine my software runs on hibernates during the burning process, whilst it's perfectly possible the user leaves the machine and his sessions idles out. But I don't want some construct like</p>
<pre>if(user_runs_gnome)
    do_gpm_dont_suspend_call();
if(user_runs_kde)
    do_kde_power_manager_dont_suspend_call();</pre>
<p>or something alike. Maybe this isn't a big issue for some simple program, but think of a large app that should be cross-desktop made by some ISV...<br />
Same thing for a DVD player: I don't want to notify both gnome-screensaver, kde-screensaver and whatever they shouldn't pop up next minute, I just want to notify the org.freedesktop.ScreenSaver service it shouldn't take control of the desktop.</p>

<p>Another sample: I'm a VoIP softphone (think <a href="http://www.ekiga.net/" title="Ekiga">Ekiga</a>), and I get an incoming call. Obviously, I'd like all media players that might run on the current console/desktop to pause. I don't want to send one signal to PlayerA using some custom socket, one to PlayerB using his own DBus interface! I just want to notify all media players they should pause, and send a "Pause" signal to (eg) org.freedesktop.CDIS.MediaPlayer. When the call is ended, I could send a "Resume" signal to the same object path.</p>

<p>I don't know whether all this is possible using DBus, still need to read the docs once again (there's some black magic in there, really!), but I guess you get the idea.<br />
Obviously, an application implementing a CDIS interface can also implement extra functionality, and if multiple applications start implementing the same extra functions, this functionality might be added to the a new version of that interface spec. Like this, we never limit the service developers. There can even be "NotImplemented" errors etc.</p>

<p>The only thing we need is getting some developers together in all fields to write down such a spec in some standard format. Not too many people though, so there's less chance of huge flamewars and more results.</p>

<p>Some application types I think of now that can use a shared interface:</p>
<ul><li>Screensavers</li>
<li>Power management</li>
<li>Media players</li>
<li>Instant Messaging apps ("SetStatus(STATUS_AWAY)",...)</li>
<li>Email clients ("NewMailArrived")</li>
<li>...</li></ul>

<p>Maybe it's time to get this on XDG again...</p>

<hr />
<p>Completely unrelated: dear lazyweb, within a month or so (at least, I hope) I should get a laptop computer (<a href="http://www.asus.com/products4.aspx?modelmenu=2&amp;model=1072&amp;l1=5&amp;l2=26&amp;l3=0" title="Asus W3J">Asus W3J</a>, dualcore 2*1.83Ghz, 1GB, 80GB, pretty cool stuff). Obviously I'd like to run Linux on the machine (oops, GNU/Linux, sorry!) once I can, as it got an ATI X1600 GPU which is completely unsupported today.<br />
I was thinking to run both <a href="http://www.gentoo.org/" title="Gentoo Linux">Gentoo Linux</a> (like I do now on my dekstop) and <a href="http://www.ubuntu.com/" title="Ubuntu">Ubuntu</a> on it: Gentoo for development things and just playing around, Ubuntu as "serious" desktop and university stuff. Next to that I also need Windows on it (some university soft is Windows-only).<br />
I wrote down <a href="http://www.eikke.com/files/laptopparts.txt" title="a possible partition layout">a possible partition layout</a> for this setup today, and got some questions about it:</p>
<ul><li>Will this work? The Gentoo part will, as that's +- what I run now, but will Ubuntu be able to handle a foreign bootloader, and the LVM stuff?</li>
<li>Won't I get in trouble by sharing my homedir between both distributions? I shouldn't, but there are no more certainties in life these days</li></ul>
<p>Thanks!</p>			</div>
         <div class="bSmallPrint">
	  <a href="ikke/2006/04/11/common_interfaces.html" title="Permanent link to full entry" class="permalink_right"><img src="../skins/plain/images/chain_link.gif" alt="Permalink" width="14" height="14" border="0" class="middle" /></a>
	  .
          <a href="all7441.html?author=" title="Browse all posts by this author">Ikke</a>

          .
	  07:25:36 pm	  .

          962 Words          .
	  
	<a href="ikke3f99.html?cat=16" title="true">Technology</a>, <a href="ikkec055.html?cat=17" title="true">Linux</a>, <a href="ikke8e7f.html?cat=19" title="true">Desktop</a>  
	.
		.
	1024 views	
	 . <a href="ikke/2006/04/11/common_interfaces.html#comments" title="Display comments / Leave a comment">6 comments</a>	  	</div>
	</div>
<h2>03/04/06</h2><div class="bPost" lang="en-US">
		<div class="title">Getting rid of a password string</div>
	<div class="bText">
		<p>@<a href="http://www.pvanhoof.be/" title="Philip">Philip</a>:<br />
During your talk at <a href="http://www.fosdem.org/" title="FOSDEM">FOSDEM</a> you showed some of the <a href="https://svn.cronos.be/svn/tinymail/trunk" title="Tinymail">Tinymail</a> code, eg the <a href="https://svn.cronos.be/svn/tinymail/trunk/tinymail/tny-account-store.c" title="Account Store">Account Store</a> implementation on top of GConf.<br />
Something in there took my attention: in <em>per_account_forget_pass_func</em> you <em>memset</em> the password to 0's, and free it. The day before I was working on a new IMAP server installation based on <a href="http://www.dovecot.org/" title="Dovecot">Dovecot</a>, and while browsing the website I came across the <a href="http://www.dovecot.org/doc/securecoding.txt" title="Secure Coding techniques">Secure Coding techniques</a> used by the author.<br />
One of the parts I remembered:</p>
<blockquote><p>When dealing with passwords and such, erase them from memory after you<br />
don't need it anymore. Note that such memset() may be optimized away by<br />
compiler, use safe_memset().</p></blockquote>
<p>Where <em>safe_memset</em> is basicly a braindead simple re-implementation of <em>memset</em>. Might be interesting ;-)<br />
It's useful to read the whole text anyway for everyone dealing with C code that needs a certain level of secure string handling.</p>

<p>Oh well, back to Dia.</p>			</div>
         <div class="bSmallPrint">
	  <a href="ikke/2006/03/04/getting_rid_of_a_password_string.html" title="Permanent link to full entry" class="permalink_right"><img src="../skins/plain/images/chain_link.gif" alt="Permalink" width="14" height="14" border="0" class="middle" /></a>
	  .
          <a href="all7441.html?author=" title="Browse all posts by this author">Ikke</a>

          .
	  01:00:39 pm	  .

          199 Words          .
	  
	<a href="ikke3f99.html?cat=16" title="true">Technology</a>, <a href="ikke3cd0.html?cat=49" title="true">Coding Corner</a>  
	.
		.
	1149 views	
	 . <a href="ikke/2006/03/04/getting_rid_of_a_password_string.html#comments" title="Display comments / Leave a comment">3 comments</a>	  	</div>
	</div>

<p class="center"><strong>
	<a href="all55b8.html?blog=1&amp;cat=16&amp;page=1&amp;paged=4">&lt;&lt; Previous Page</a> :: <a href="all6a72.html?blog=1&amp;cat=16&amp;page=1&amp;paged=6">Next Page &gt;&gt;</a>	</strong></p>

	
							
						
		  </div>
		
  </div>
  <br clear="all" />
  <div id="footer">
  <!-- This is the footer. Put all your copyright info here. -->
  <br />
  Design by <a href="http://www.jameskoster.co.uk/">James Koster</a>, Evoskin by <a href="http://www.brendoman.com/dbc">Danny Ferguson</a></div>
</center>
</body>

<!-- Mirrored from blog.eikke.com/index.php/all?blog=1&cat=16&page=1&paged=5 by HTTrack Website Copier/3.x [XR&CO'2010], Tue, 11 Dec 2012 19:50:00 GMT -->
</html>
